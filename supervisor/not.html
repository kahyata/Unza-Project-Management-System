<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supervisor Notifications</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>        
        .notifications {
            background-color: white;
            border-radius: 18px;
            width: 100%;
            overflow: hidden;
            animation: fadeIn 0.5s ease-out;
        }
        
        .not-head {
            padding: 22px 26px;
            border-bottom: 1px solid #eaeaea;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #f8f9fa;
        }
        
        .head {
            font-size: 1.6rem;
            font-weight: 700;
            color: #2a2a68;
        }
        
        .sub-head {
            position: relative;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            transition: background-color 0.3s;
        }
        
        .sub-head:hover {
            background-color: #e6e6e6;
        }
        
        .settings-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border-radius: 14px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
            width: 220px;
            padding: 12px 0;
            z-index: 100;
            display: none;
            animation: dropdownFade 0.2s ease-out;
        }
        
        .settings-dropdown.show {
            display: block;
        }
        
        .dropdown-item {
            padding: 14px 22px;
            display: flex;
            align-items: center;
            gap: 14px;
            cursor: pointer;
            transition: background-color 0.2s;
            font-size: 0.95rem;
        }
        
        .dropdown-item:hover {
            background-color: #f0f7ff;
        }
        
        .dropdown-item i {
            width: 22px;
            color: #2a78cc;
        }
        
        .not-sub-head {
            padding: 16px 26px;
            background-color: #f8f9fa;
            border-bottom: 1px solid #eaeaea;
        }
        
        .time {
            font-weight: 600;
            color: #555;
            font-size: 1.05rem;
        }
        
        ul {
            margin: 0px;
            padding: 0px;
            list-style: none;
            overflow-y: auto;
        }
        
        .not-item {
            padding: 18px 26px;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            align-items: flex-start;
            gap: 18px;
            transition: background-color 0.2s;
            cursor: pointer;
        }
        
        .not-item:hover {
            background-color: #f9f9f9;
        }
        
        .not-item.unread {
            background-color: #f7fbff;
        }
        
        .not-item.unread:hover {
            background-color: #eef6ff;
        }
        
        .avatar {
            width: 52px;
            height: 52px;
            border-radius: 50%;
            background: linear-gradient(135deg, #2a78cc 0%, #42a1ff 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            flex-shrink: 0;
            font-size: 1.3rem;
        }
        
        .not-body {
            flex-grow: 1;
        }
        
        .not-item-title {
            font-weight: 600;
            color: #2a2a68;
            margin-bottom: 6px;
            font-size: 1.05rem;
        }
        
        .not-item-subtitle {
            color: #666;
            font-size: 0.97rem;
            line-height: 1.5;
        }
        
        .not-time {
            font-size: 0.87rem;
            color: #888;
            white-space: nowrap;
            margin-left: 10px;
            align-self: center;
        }
        
        .not-actions {
            padding: 18px 26px;
            display: flex;
            justify-content: center;
            border-top: 1px solid #eaeaea;
        }
        
        #load-more {
            background-color: transparent;
            color: #2a78cc;
            border: 1px solid #2a78cc;
            padding: 12px 24px;
            border-radius: 26px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
            font-size: 1rem;
        }
        
        #load-more:hover {
            background-color: #2a78cc;
            color: white;
        }
        
        #no-not {
            flex-direction: column;
            text-align: center;
            padding: 50px 20px;
            gap: 10px;
        }
        
        #no-not .not-item-title {
            font-size: 1.3rem;
            margin-bottom: 8px;
            color: #666;
        }
        
        #no-not .not-item-subtitle {
            color: #888;
            font-size: 1rem;
        }
        
        .filter-options {
            display: flex;
            gap: 12px;
            padding: 16px 26px;
            border-bottom: 1px solid #eaeaea;
        }
        
        .filter-btn {
            padding: 10px 18px;
            border: 1px solid #ddd;
            background: white;
            border-radius: 22px;
            cursor: pointer;
            font-size: 0.95rem;
            transition: all 0.3s;
        }
        
        .filter-btn.active {
            background-color: #2a78cc;
            color: white;
            border-color: #2a78cc;
        }
        
        .empty-state {
            padding: 50px 20px;
            text-align: center;
            color: #666;
            font-size: 1.1rem;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-12px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes dropdownFade {
            from { opacity: 0; transform: translateY(-8px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Responsive design */
        @media (max-width: 600px) {
            .notifications {
                border-radius: 14px;
            }
            
            .not-head, .not-sub-head, .filter-options {
                padding: 16px;
            }
            
            .not-item {
                padding: 16px;
            }
            
            .avatar {
                width: 46px;
                height: 46px;
                font-size: 1.1rem;
            }
            
            .head {
                font-size: 1.4rem;
            }
        }
    </style>
</head>
<body>
    <div class="notifications">
        <div class="not-head">
            <span class="head">Notifications</span>
            <span class="sub-head" id="settings-toggle">
                <svg viewBox="0 0 24 24" height="26px" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                    <g id="SVGRepo_iconCarrier"> 
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M10.65 3L9.93163 3.53449L9.32754 5.54812L7.47651 4.55141L6.5906 4.68143L4.68141 6.59062L4.55139 7.47652L5.5481 9.32755L3.53449 9.93163L3 10.65V13.35L3.53449 14.0684L5.54811 14.6725L4.55142 16.5235L4.68144 17.4094L6.59063 19.3186L7.47653 19.4486L9.32754 18.4519L9.93163 20.4655L10.65 21H13.35L14.0684 20.4655L14.6725 18.4519L16.5235 19.4486L17.4094 19.3185L19.3186 17.4094L19.4486 16.5235L18.4519 14.6724L20.4655 14.0684L21 13.35V10.65L20.4655 9.93163L18.4519 9.32754L19.4486 7.47654L19.3186 6.59063L17.4094 4.68144L16.5235 4.55142L14.6725 5.54812L14.0684 3.53449L13.35 3H10.65ZM10.4692 6.96284L11.208 4.5H12.792L13.5308 6.96284L13.8753 7.0946C13.9654 7.12908 14.0543 7.16597 14.142 7.2052L14.4789 7.35598L16.7433 6.13668L17.8633 7.25671L16.644 9.52111L16.7948 9.85803C16.834 9.9457 16.8709 10.0346 16.9054 10.1247L17.0372 10.4692L19.5 11.208V12.792L17.0372 13.5308L16.9054 13.8753C16.8709 13.9654 16.834 14.0543 16.7948 14.1419L16.644 14.4789L17.8633 16.7433L16.7433 17.8633L14.4789 16.644L14.142 16.7948C14.0543 16.834 13.9654 16.8709 13.8753 16.9054L13.5308 17.0372L12.792 19.5H11.208L10.4692 17.0372L10.1247 16.9054C10.0346 16.8709 9.94569 16.834 9.85803 16.7948L9.52111 16.644L7.25671 17.8633L6.13668 16.7433L7.35597 14.4789L7.2052 14.142C7.16597 14.0543 7.12908 13.9654 7.0946 13.8753L6.96284 13.5308L4.5 12.792L4.5 11.208L6.96284 10.4692L7.0946 10.1247C7.12907 10.0346 7.16596 9.94571 7.20519 9.85805L7.35596 9.52113L6.13666 7.2567L7.25668 6.13667L9.5211 7.35598L9.85803 7.2052C9.9457 7.16597 10.0346 7.12908 10.1247 7.0946L10.4692 6.96284ZM14.25 12C14.25 13.2426 13.2426 14.25 12 14.25C10.7574 14.25 9.75 13.2426 9.75 12C9.75 10.7574 10.7574 9.75 12 9.75C13.2426 9.75 14.25 10.7574 14.25 12ZM15.75 12C15.75 14.0711 14.0711 15.75 12 15.75C9.92893 15.75 8.25 14.0711 8.25 12C8.25 9.92893 9.92893 8.25 12 8.25C14.0711 8.25 15.75 9.92893 15.75 12Z" fill="#2a2a68"></path> 
                    </g>
                </svg>
                <div class="settings-dropdown" id="settings-dropdown">
                    <div class="dropdown-item">
                        <i class="fas fa-bell-slash"></i>
                        <span>Mute notifications</span>
                    </div>
                    <div class="dropdown-item">
                        <i class="fas fa-cog"></i>
                        <span>Notification settings</span>
                    </div>
                </div>
            </span>
        </div>
        
        <div class="filter-options">
            <button class="filter-btn active" data-filter="all">All</button>
            <button class="filter-btn" data-filter="unread">Unread</button>
        </div>
        
        <div class="not-sub-head">
            <span class="time">Today</span>
        </div>
        
        <ul id="notifications-list">
            </ul>
        
        <div class="not-actions">
            <button id="load-more">Load more notifications</button>
        </div>
    </div>

    <script>
        // Sample notification data for Supervisors
        const notificationsData = [
            {
                id: 1,
                title: "New Proposal Submission",
                subtitle: "A new project proposal has been submitted by John Doe. Please review it.",
                time: "10:30 AM",
                read: false,
                avatarText: "JD",
                type: "proposal"
            },
            {
                id: 2,
                title: "Progress Report Submitted",
                subtitle: "Jane Smith has submitted her weekly progress report for 'Dynamic Website Project'.",
                time: "9:45 AM",
                read: false,
                avatarText: "JS",
                type: "report"
            },
            {
                id: 3,
                title: "Final Project Submitted",
                subtitle: "The final report for 'E-commerce Platform' has been submitted by David Chen.",
                time: "9:15 AM",
                read: false,
                avatarText: "DC",
                type: "final"
            },
            {
                id: 4,
                title: "Student Project Update",
                subtitle: "Alex Johnson updated the project plan for 'Mobile App for UNZA'.",
                time: "Yesterday",
                read: true,
                avatarText: "AJ",
                type: "update"
            },
            {
                id: 5,
                title: "Proposal Rejected",
                subtitle: "You have rejected the proposal submitted by Sarah Lee.",
                time: "Yesterday",
                read: true,
                avatarText: "SL",
                type: "proposal_action"
            }
        ];
        
        // DOM elements
        const notificationsList = document.getElementById('notifications-list');
        const settingsToggle = document.getElementById('settings-toggle');
        const settingsDropdown = document.getElementById('settings-dropdown');
        const filterButtons = document.querySelectorAll('.filter-btn');
        const loadMoreBtn = document.getElementById('load-more');
        
        // Current filter state
        let currentFilter = 'all';
        
        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            if (!settingsToggle.contains(event.target) && settingsDropdown.classList.contains('show')) {
                settingsDropdown.classList.remove('show');
            }
        });
        
        // Toggle settings dropdown
        settingsToggle.addEventListener('click', function(event) {
            event.stopPropagation();
            settingsDropdown.classList.toggle('show');
        });
        
        // Function to render notifications based on current filter
        function renderNotifications() {
            // Clear the list
            notificationsList.innerHTML = '';
            
            // Filter notifications based on current filter
            const filteredNotifications = currentFilter === 'all' 
                ? notificationsData 
                : notificationsData.filter(notif => !notif.read);
            
            // Show empty state if no notifications match the filter
            if (filteredNotifications.length === 0) {
                const emptyState = document.createElement('li');
                emptyState.className = 'empty-state';
                emptyState.textContent = currentFilter === 'all' 
                    ? 'No notifications yet' 
                    : 'No unread notifications';
                notificationsList.appendChild(emptyState);
                return;
            }
            
            // Render each notification
            filteredNotifications.forEach(notification => {
                const notifElement = document.createElement('li');
                notifElement.className = `not-item ${notification.read ? '' : 'unread'}`;
                notifElement.dataset.id = notification.id;
                
                notifElement.innerHTML = `
                    <div class="avatar">${notification.avatarText}</div>
                    <div class="not-body">
                        <div class="not-item-title">${notification.title}</div>
                        <div class="not-item-subtitle">${notification.subtitle}</div>
                    </div>
                    <div class="not-time">${notification.time}</div>
                `;
                
                notificationsList.appendChild(notifElement);
            });
            
            // Add click event to mark as read when clicking notification
            document.querySelectorAll('.not-item').forEach(item => {
                item.addEventListener('click', function() {
                    const id = parseInt(this.dataset.id);
                    const notification = notificationsData.find(notif => notif.id === id);
                    if (notification && !notification.read) {
                        notification.read = true;
                        renderNotifications();
                    }
                });
            });
        }
        
        // Set up filter buttons
        filterButtons.forEach(button => {
            button.addEventListener('click', function() {
                const filter = this.dataset.filter;
                
                // Update active state
                filterButtons.forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
                
                // Update current filter and re-render
                currentFilter = filter;
                renderNotifications();
            });
        });
        
        // Set up load more button
        loadMoreBtn.addEventListener('click', function() {
            // Simulate loading more notifications
            const newId = notificationsData.length > 0 
                ? Math.max(...notificationsData.map(n => n.id)) + 1 
                : 1;
            
            const types = [
                { title: "New Project Proposal", avatar: "NP", subtitle: "A new student proposal requires your attention." },
                { title: "Project Report Submitted", avatar: "PR", subtitle: "A student has submitted a new progress report." },
                { title: "Final Submission Received", avatar: "FS", subtitle: "A student has submitted their final project for grading." }
            ];
            
            const randomType = types[Math.floor(Math.random() * types.length)];
            
            notificationsData.push({
                id: newId,
                title: randomType.title,
                subtitle: randomType.subtitle,
                time: "Yesterday",
                read: true,
                avatarText: randomType.avatar,
                type: "random"
            });
            
            renderNotifications();
        });
        
        // Initial render
        renderNotifications();
        
        // Simulate receiving a new notification every 15 seconds
        setInterval(() => {
            // Only add if we're not showing too many already
            if (notificationsData.length < 10) {
                const newId = notificationsData.length > 0 
                    ? Math.max(...notificationsData.map(n => n.id)) + 1 
                    : 1;
                
                const types = [
                    { title: "New Proposal", avatar: "NP", subtitle: "New project proposal from [Student Name]." },
                    { title: "Weekly Report", avatar: "WR", subtitle: "[Student Name] has submitted a weekly report." },
                    { title: "Final Submission", avatar: "FS", subtitle: "[Student Name] submitted their final project." }
                ];
                
                const randomType = types[Math.floor(Math.random() * types.length)];
                
                // Add to beginning of array
                notificationsData.unshift({
                    id: newId,
                    title: randomType.title,
                    subtitle: randomType.subtitle,
                    time: "Just now",
                    read: false,
                    avatarText: randomType.avatar,
                    type: "simulated"
                });
                
                renderNotifications();
            }
        }, 15000);
    </script>
</body>
</html>